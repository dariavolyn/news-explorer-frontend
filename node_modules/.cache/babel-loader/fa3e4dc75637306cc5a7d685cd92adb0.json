{"ast":null,"code":"import _classCallCheck from\"/Users/dashon/Desktop/react-around-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dashon/Desktop/react-around-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this.baseUrl=baseUrl;this.headers=headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(data){return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:\"GET\",headers:this.headers}).then(this._checkResponse);}},{key:\"setUserInfo\",value:function setUserInfo(_ref2){var name=_ref2.name,about=_ref2.about;return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);}},{key:\"getCardsList\",value:function getCardsList(){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{method:\"GET\",headers:this.headers}).then(this._checkResponse);}},{key:\"addCard\",value:function addCard(_ref3){var name=_ref3.name,link=_ref3.link;return fetch(\"\".concat(this.baseUrl,\"/cards\"),{method:\"POST\",headers:this.headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);}},{key:\"removeCard\",value:function removeCard(cardID){return fetch(\"\".concat(this.baseUrl,\"/cards/\").concat(cardID),{method:\"DELETE\",headers:this.headers}).then(this._checkResponse);}},{key:\"addLike\",value:function addLike(cardID){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(cardID),{method:\"PUT\",headers:this.headers}).then(this._checkResponse);}},{key:\"deleteLike\",value:function deleteLike(cardID){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(cardID),{method:\"DELETE\",headers:this.headers}).then(this._checkResponse);}},{key:\"setUserPic\",value:function setUserPic(_ref4){var avatar=_ref4.avatar;return fetch(\"\".concat(this.baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}}]);return Api;}();var api=new Api({baseUrl:'dariavolyn.students.nomoreparties.site',headers:{\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["/Users/dashon/Desktop/react-around-api-full/frontend/src/utils/api.js"],"names":["Api","baseUrl","headers","res","ok","json","Promise","reject","status","data","fetch","method","then","_checkResponse","name","about","body","JSON","stringify","link","cardID","avatar","api"],"mappings":"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","sourcesContent":["class Api {\n    constructor({ baseUrl, headers }) {\n        this.baseUrl = baseUrl\n        this.headers = headers\n    }\n\n    _checkResponse(res) {\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    }\n\n    getUserInfo(data) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: \"GET\",\n            headers: this.headers\n        })\n            .then(this._checkResponse)\n    }\n\n    setUserInfo({ name, about }) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: \"PATCH\",\n            headers: this.headers,\n            body: JSON.stringify({ name, about })\n        })\n            .then(this._checkResponse)\n    }\n\n    getCardsList() {\n        return fetch(`${this.baseUrl}/cards`, {\n            method: \"GET\",\n            headers: this.headers\n        })\n            .then(this._checkResponse)\n    }\n\n    addCard({ name, link }) {\n        return fetch(`${this.baseUrl}/cards`, {\n            method: \"POST\",\n            headers: this.headers,\n            body: JSON.stringify({ name, link })\n        })\n            .then(this._checkResponse)\n    }\n\n    removeCard(cardID) {\n        return fetch(`${this.baseUrl}/cards/${cardID}`, {\n            method: \"DELETE\",\n            headers: this.headers\n        })\n            .then(this._checkResponse)\n    }\n\n    addLike(cardID) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardID}`, {\n            method: \"PUT\",\n            headers: this.headers\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteLike(cardID) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardID}`, {\n            method: \"DELETE\",\n            headers: this.headers\n        })\n            .then(this._checkResponse)\n    }\n\n    setUserPic({ avatar }) {\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: this.headers,\n            body: JSON.stringify({ avatar })\n        })\n            .then(this._checkResponse)\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'dariavolyn.students.nomoreparties.site',\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n})\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}