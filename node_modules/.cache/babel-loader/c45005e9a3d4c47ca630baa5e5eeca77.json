{"ast":null,"code":"var _jsxFileName = \"/Users/dashon/Desktop/news-explorer-frontend/src/components/App/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Authentication from '../Authentication/Authentication.js';\nimport Header from '../Header/Header.js';\nimport Footer from '../Footer/Footer.js';\nimport Main from '../Main/Main.js';\nimport Register from '../Register/Register.js';\nimport SavedNews from '../SavedNews/SavedNews.js';\nimport SuccessPopup from '../SuccessPopup/SuccessPopup.js';\nimport newsApi from '../../utils/NewsApi.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App(props) {\n  _s();\n\n  const [search, setSearch] = useState('');\n  const [cards, setCards] = useState([]);\n  const [isRegisterOpen, setRegisterOpen] = useState(false);\n  const [isAuthOpen, setAuthOpen] = useState(false);\n  const [isNavMobileOpen, setNavMobileOpen] = useState(false);\n  const [isCardSaved, setCardSaved] = useState(false);\n  const [isSuccessPopupOpen, setSuccessPopupOpen] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    const close = e => {\n      if (e.keyCode === 27) {\n        closeAllPopups();\n      }\n    };\n\n    window.addEventListener('keydown', close);\n    return () => window.removeEventListener('keydown', close);\n  }, []);\n\n  function getCards() {\n    newsApi.getCardsList().then(res => {\n      setCards(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function handleSearchChange(e) {\n    setSearch(e.target.value);\n  }\n\n  function handleAuthOpen() {\n    setSuccessPopupOpen(false);\n    setRegisterOpen(false);\n    setAuthOpen(true);\n  }\n\n  function handleRegisterOpen() {\n    setAuthOpen(false);\n    setRegisterOpen(true);\n  }\n\n  function handleNavMobileOpen() {\n    setNavMobileOpen(true);\n  }\n\n  function handleSaveCard() {\n    if (setCardSaved(true)) {\n      setCardSaved(false);\n    }\n\n    setCardSaved(true);\n  }\n\n  function closeAllPopups() {\n    setSuccessPopupOpen(false);\n    setRegisterOpen(false);\n    setAuthOpen(false);\n    setNavMobileOpen(false);\n  }\n\n  function handleRegister(e) {\n    e.preventDefault();\n    setSuccessPopupOpen(true);\n    setRegisterOpen(false);\n  }\n\n  function handleAuth(e) {\n    e.preventDefault();\n    closeAllPopups();\n    history.push('/saved-news');\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            page: \"main\",\n            onAuth: handleAuthOpen,\n            isNavMobileOpen: isNavMobileOpen,\n            onOpen: handleNavMobileOpen,\n            onClose: closeAllPopups\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Main, {\n            search: search,\n            cards: cards.articles,\n            onSubmit: getCards,\n            page: \"main\",\n            onSave: handleSaveCard,\n            isSaved: isCardSaved\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/saved-news\",\n          children: /*#__PURE__*/_jsxDEV(SavedNews, {\n            page: \"saved-news\",\n            isNavMobileOpen: isNavMobileOpen,\n            onOpen: handleNavMobileOpen,\n            onClose: closeAllPopups\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Register, {\n        isOpen: isRegisterOpen,\n        onClose: closeAllPopups,\n        openAltForm: handleAuthOpen,\n        register: handleRegister\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Authentication, {\n        isOpen: isAuthOpen,\n        onClose: closeAllPopups,\n        openAltForm: handleRegisterOpen,\n        auth: handleAuth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SuccessPopup, {\n        isOpen: isSuccessPopupOpen,\n        onClose: closeAllPopups,\n        openAuth: handleAuthOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"atQOb1fPe1P8Kp/GnxFSji7v4ck=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/dashon/Desktop/news-explorer-frontend/src/components/App/App.js"],"names":["React","useEffect","useState","Route","Switch","useHistory","Authentication","Header","Footer","Main","Register","SavedNews","SuccessPopup","newsApi","App","props","search","setSearch","cards","setCards","isRegisterOpen","setRegisterOpen","isAuthOpen","setAuthOpen","isNavMobileOpen","setNavMobileOpen","isCardSaved","setCardSaved","isSuccessPopupOpen","setSuccessPopupOpen","history","close","e","keyCode","closeAllPopups","window","addEventListener","removeEventListener","getCards","getCardsList","then","res","catch","err","console","log","handleSearchChange","target","value","handleAuthOpen","handleRegisterOpen","handleNavMobileOpen","handleSaveCard","handleRegister","preventDefault","handleAuth","push","articles"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\n\nimport Authentication from '../Authentication/Authentication.js';\nimport Header from '../Header/Header.js';\nimport Footer from '../Footer/Footer.js';\nimport Main from '../Main/Main.js';\nimport Register from '../Register/Register.js';\nimport SavedNews from '../SavedNews/SavedNews.js';\nimport SuccessPopup from '../SuccessPopup/SuccessPopup.js';\nimport newsApi from '../../utils/NewsApi.js';\n\n\nfunction App(props) {\n    const [search, setSearch] = useState('');\n    const [cards, setCards] = useState([]);\n    const [isRegisterOpen, setRegisterOpen] = useState(false);\n    const [isAuthOpen, setAuthOpen] = useState(false);\n    const [isNavMobileOpen, setNavMobileOpen] = useState(false);\n    const [isCardSaved, setCardSaved] = useState(false);\n    const [isSuccessPopupOpen, setSuccessPopupOpen] = useState(false);\n    const history = useHistory();\n\n    useEffect(() => {\n        const close = (e) => { if (e.keyCode === 27) { closeAllPopups(); } }\n        window.addEventListener('keydown', close)\n        return () => window.removeEventListener('keydown', close)\n    }, [])\n\n    function getCards() {\n        newsApi.getCardsList()\n            .then((res) => {\n                setCards(res);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleSearchChange(e) {\n        setSearch(e.target.value);\n    }\n\n    function handleAuthOpen() {\n        setSuccessPopupOpen(false);\n        setRegisterOpen(false);\n        setAuthOpen(true);\n    }\n\n    function handleRegisterOpen() {\n        setAuthOpen(false);\n        setRegisterOpen(true);\n    }\n\n    function handleNavMobileOpen() {\n        setNavMobileOpen(true);\n    }\n\n    function handleSaveCard() {\n        if (setCardSaved(true)) {\n            setCardSaved(false);\n        } setCardSaved(true)\n    }\n\n    function closeAllPopups() {\n        setSuccessPopupOpen(false);\n        setRegisterOpen(false);\n        setAuthOpen(false);\n        setNavMobileOpen(false);\n    }\n\n    function handleRegister(e) {\n        e.preventDefault();\n        setSuccessPopupOpen(true);\n        setRegisterOpen(false);\n    }\n\n    function handleAuth(e) {\n        e.preventDefault();\n        closeAllPopups();\n        history.push('/saved-news')\n    }\n\n    return (\n        <>\n            <div className='app'>\n                <Switch>\n                    <Route exact path='/'>\n                        <Header\n                            page='main'\n                            onAuth={handleAuthOpen}\n                            isNavMobileOpen={isNavMobileOpen}\n                            onOpen={handleNavMobileOpen}\n                            onClose={closeAllPopups}\n                        />\n                        <Main\n                            search={search}\n                            cards={cards.articles}\n                            onSubmit={getCards}\n                            page='main'\n                            onSave={handleSaveCard}\n                            isSaved={isCardSaved}\n                        />\n                    </Route>\n\n                    <Route exact path='/saved-news'>\n                        <SavedNews\n                            page='saved-news'\n                            isNavMobileOpen={isNavMobileOpen}\n                            onOpen={handleNavMobileOpen}\n                            onClose={closeAllPopups}\n                        />\n                    </Route>\n\n                </Switch>\n\n                <Register isOpen={isRegisterOpen} onClose={closeAllPopups} openAltForm={handleAuthOpen} register={handleRegister} />\n\n                <Authentication isOpen={isAuthOpen} onClose={closeAllPopups} openAltForm={handleRegisterOpen} auth={handleAuth} />\n\n                <SuccessPopup isOpen={isSuccessPopupOpen} onClose={closeAllPopups} openAuth={handleAuthOpen} />\n\n                <Footer />\n\n            </div>\n        </>\n    )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}