{"ast":null,"code":"import _classCallCheck from\"/Users/dashon/Desktop/news-explorer-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dashon/Desktop/news-explorer-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";function todayDate(){var date=new Date();return date.toISOString().slice(0,10);}function todayDateMinusSeven(){var date=new Date(Date.now()-7*24*60*60*1000);return date.toISOString().slice(0,10);}var NewsApi=/*#__PURE__*/function(){function NewsApi(_ref){var newsUrl=_ref.newsUrl,headers=_ref.headers;_classCallCheck(this,NewsApi);this.newsUrl=newsUrl;this.headers=headers;}_createClass(NewsApi,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));}},{key:\"getCardsList\",value:function getCardsList(search){return fetch(\"\".concat(this.newsUrl,\"/everything?q=\").concat(search,\"&from=\").concat(todayDateMinusSeven(),\"&to=\").concat(todayDate(),\"&pageSize=10&apiKey=c4ef0e54c94849e194ad5251b2d39e56\"),{method:'GET',headers:this.headers}).then(this._checkResponse);}}]);return NewsApi;}();var newsApi=new NewsApi({newsUrl:'https://nomoreparties.co/news/v2',headers:{'Content-Type':'application/json'}});export default newsApi;","map":{"version":3,"sources":["/Users/dashon/Desktop/news-explorer-frontend/src/utils/NewsApi.js"],"names":["todayDate","date","Date","toISOString","slice","todayDateMinusSeven","now","NewsApi","newsUrl","headers","res","ok","json","Promise","reject","status","search","fetch","method","then","_checkResponse","newsApi"],"mappings":"oUAAA,QAASA,CAAAA,SAAT,EAAqB,CACjB,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAb,CACA,MAAOD,CAAAA,IAAI,CAACE,WAAL,GAAmBC,KAAnB,CAAyB,CAAzB,CAA4B,EAA5B,CAAP,CACH,CAED,QAASC,CAAAA,mBAAT,EAA+B,CAC3B,GAAMJ,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASA,IAAI,CAACI,GAAL,GAAa,EAAI,EAAJ,CAAS,EAAT,CAAc,EAAd,CAAmB,IAAzC,CAAb,CACA,MAAOL,CAAAA,IAAI,CAACE,WAAL,GAAmBC,KAAnB,CAAyB,CAAzB,CAA4B,EAA5B,CAAP,CACH,C,GAEKG,CAAAA,O,yBACF,sBAAkC,IAApBC,CAAAA,OAAoB,MAApBA,OAAoB,CAAXC,OAAW,MAAXA,OAAW,+BAC9B,KAAKD,OAAL,CAAeA,OAAf,CACA,KAAKC,OAAL,CAAeA,OAAf,CACH,C,kDAED,wBAAeC,GAAf,CAAoB,CAChB,MAAOA,CAAAA,GAAG,CAACC,EAAJ,CAASD,GAAG,CAACE,IAAJ,EAAT,CAAsBC,OAAO,CAACC,MAAR,kBAAyBJ,GAAG,CAACK,MAA7B,EAA7B,CACH,C,4BAED,sBAAaC,MAAb,CAAqB,CACjB,MAAOC,CAAAA,KAAK,WAAI,KAAKT,OAAT,0BAAiCQ,MAAjC,kBAAgDX,mBAAmB,EAAnE,gBAA4EL,SAAS,EAArF,yDACR,CACIkB,MAAM,CAAE,KADZ,CAEIT,OAAO,CAAE,KAAKA,OAFlB,CADQ,CAAL,CAKFU,IALE,CAKG,KAAKC,cALR,CAAP,CAMH,C,uBAGL,GAAMC,CAAAA,OAAO,CAAG,GAAId,CAAAA,OAAJ,CAAY,CACxBC,OAAO,CAAE,kCADe,CAExBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFe,CAAZ,CAAhB,CAOA,cAAeY,CAAAA,OAAf","sourcesContent":["function todayDate() {\n    const date = new Date();\n    return date.toISOString().slice(0, 10);\n}\n\nfunction todayDateMinusSeven() {\n    const date = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\n    return date.toISOString().slice(0, 10);\n}\n\nclass NewsApi {\n    constructor({ newsUrl, headers }) {\n        this.newsUrl = newsUrl\n        this.headers = headers\n    }\n\n    _checkResponse(res) {\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    }\n\n    getCardsList(search) {\n        return fetch(`${this.newsUrl}/everything?q=${search}&from=${todayDateMinusSeven()}&to=${todayDate()}&pageSize=10&apiKey=c4ef0e54c94849e194ad5251b2d39e56`,\n            {\n                method: 'GET',\n                headers: this.headers\n            })\n            .then(this._checkResponse)\n    }\n}\n\nconst newsApi = new NewsApi({\n    newsUrl: 'https://nomoreparties.co/news/v2',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n})\n\nexport default newsApi;\n\n"]},"metadata":{},"sourceType":"module"}